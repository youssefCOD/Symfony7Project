{% extends 'base.html.twig' %}
{% block title %}{{ post.title }}{% endblock %}
{% block body %}
<article class="min-h-screen bg-gray-900 text-gray-100">
    <!-- Hero Section -->
    <header class="relative w-full">
        <!-- Featured Image Container -->
        <div class="relative h-[70vh] max-h-[700px] w-full overflow-hidden">
            <!-- Neon Overlay -->
            <div class="absolute inset-0 bg-gradient-to-b from-transparent to-gray-900 opacity-70"></div>
            <img 
                src="{{ asset('uploads/posts/') ~ post.featuredImage }}" 
                alt="{{ post.title }}"
                class="w-full h-full object-cover z-0 filter brightness-50"
            >
            <!-- Overlay Content -->
            <div class="absolute bottom-0 left-0 right-0 p-8 max-w-4xl mx-auto z-20">
                <!-- Categories -->

                <!-- Title -->
                <h1 class="text-5xl md:text-6xl font-bold mb-6 leading-tight text-shadow-neon">
                    {{ post.title }}
                </h1>
                <div class="flex gap-3 mb-6">
                    {% for category in post.categories %}
                        <span class="px-4 py-1.5 text-sm bg-green-500 text-white rounded-full shadow-lg shadow-green-500/100 animate-pulse">
                            {{ category.name }}
                        </span>
                    {% endfor %}
                </div>
            </div>
        </div>
    </header>

    <!-- Futuristic Separation -->
    <div class="relative">
        <div class="absolute inset-x-0 -top-1 h-1 bg-green-500 shadow-lg shadow-green-500/50"></div>
        <div class="absolute inset-x-0 -top-3 h-0.5 bg-green-400 shadow-lg shadow-green-400/50"></div>
        <div class="absolute inset-x-0 -top-5 h-px bg-green-300 shadow-lg shadow-green-300/50"></div>
    </div>

    <!-- Main Content -->
    <main class="relative -mt-12 bg-gray-800 rounded-t-3xl px-4 shadow-lg shadow-green-500/10">
        <div class="max-w-2xl mx-auto pt-12 pb-20">
            <!-- Article Content -->
            <div class="prose prose-lg mx-auto text-gray-300">
                <!-- Futuristic Typography Styles -->
                <style>
                    .prose h2 {
                        @apply text-3xl font-extrabold text-green-400 mt-12 mb-6 border-b-2 border-green-500/30 pb-2;
                    }
                    .prose p {
                        @apply text-gray-300 leading-relaxed mb-6;
                    }
                    .prose img {
                        @apply rounded-2xl my-8 border-2 border-green-500/30 shadow-lg shadow-green-500/20;
                    }
                    .prose a {
                        @apply text-green-400 font-medium no-underline hover:underline hover:text-green-300 transition-colors duration-300;
                    }
                    .prose blockquote {
                        @apply border-l-4 border-green-500 pl-6 italic text-gray-400 bg-gray-800/50 p-4 rounded-lg;
                    }
                    .prose ul {
                        @apply space-y-3 list-disc pl-5;
                    }
                    .prose li {
                        @apply text-gray-300;
                    }
                    .prose li::marker {
                        @apply text-green-500;
                    }
                    .text-shadow-neon {
                        text-shadow: 0 0 5px #4ade80, 0 0 10px #4ade80, 0 0 15px #4ade80, 0 0 20px #4ade80;
                    }
                </style>
                {{ post.content|raw }}
            </div>

            <!-- Author Info -->
            <div class="mt-16 pt-8 border-t border-green-500/30">
                <div class="flex items-center gap-4">
                    <div class="w-14 h-14 rounded-full bg-gradient-to-r from-green-500 to-green-300 flex items-center justify-center shadow-lg shadow-green-500/50">
                        <span class="text-gray-900 text-xl font-bold">
                            {{ post.users.nickname|slice(0,1)|upper }}
                        </span>
                    </div>
                    <div>
                        <p class="font-bold text-lg text-green-400">{{ post.users.nickname }}</p>
                        <p class="text-sm text-gray-400">Contributing Writer</p>
                    </div>
                </div>
            </div>
        </div>
    </main>
</article>

<!-- Futuristic Scrollbar -->
<style>
    ::-webkit-scrollbar {
        width: 10px;
    }
    ::-webkit-scrollbar-track {
        background: #1f2937;
    }
    ::-webkit-scrollbar-thumb {
        background: #4ade80;
        border-radius: 5px;
    }
    ::-webkit-scrollbar-thumb:hover {
        background: #22c55e;
    }
</style>

<!-- Neon Cursor -->
<div class="neon-cursor"></div>
<style>
    .neon-cursor {
        width: 20px;
        height: 20px;
        border: 2px solid #4ade80;
        border-radius: 50%;
        position: fixed;
        pointer-events: none;
        z-index: 9999;
        mix-blend-mode: difference;
        transition: transform 0.2s;
    }
</style>
<script>
    document.addEventListener('mousemove', (e) => {
        const cursor = document.querySelector('.neon-cursor');
        cursor.style.left = e.clientX + 'px';
        cursor.style.top = e.clientY + 'px';
        cursor.style.transform = `translate(-50%, -50%) scale(${1 + Math.abs(Math.sin(Date.now() / 500))})`;
    });
</script>
{% endblock %}